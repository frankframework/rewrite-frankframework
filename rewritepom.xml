<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.testingxml</groupId>
    <artifactId>RecipeRunner</artifactId>
    <version>1.0-SNAPSHOT</version>

    <properties>
        <artifactId>frankrewrite</artifactId>
		<active.recipes>
            org.frankrewrite.7_3_to_7_4,
            org.frankrewrite.7_4_to_7_5,
            org.frankrewrite.7_5_to_7_6,
            org.frankrewrite.7_6_to_7_7,
        </active.recipes>
        <rewrite.id>${artifactId}</rewrite.id>
        <servlet.groupId>
            javax.servlet
        </servlet.groupId>
        <servlet.artifactId>
            javax.servlet-api
        </servlet.artifactId>
        <servlet.version>
            3.1.0
        </servlet.version>
    </properties>
    <profiles>
        <profile>
            <id>7_4</id>
            <properties>
                <rewrite.id>${artifactId}-7_4</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_3_to_7_4,
                </active.recipes>
            </properties>
        </profile>
        <profile>
            <id>7_5</id>
            <properties>
                <rewrite.id>${artifactId}-7_5</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_4_to_7_5,
                </active.recipes>
            </properties>
        </profile>
        <profile>
            <id>7_6</id>
            <properties>
                <rewrite.id>${artifactId}-7_6</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_5_to_7_6,
                </active.recipes>
            </properties>
        </profile>
        <profile>
            <id>7_7</id>
            <properties>
                <rewrite.id>${artifactId}-7_7</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_6_to_7_7,
                </active.recipes>
            </properties>
        </profile>
        <profile>
            <id>7_8</id>
            <properties>
                <rewrite.id>${artifactId}-7_8</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_7_to_7_8,
                </active.recipes>
            </properties>
        </profile>
        <profile>
            <id>7_9</id>
            <properties>
                <rewrite.id>${artifactId}-7_9</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_8_to_7_9,
                </active.recipes>
            </properties>
        </profile>
        <profile>
            <id>8_0</id>
            <properties>
                <rewrite.id>${artifactId}-8_0</rewrite.id>
                <active.recipes>
                    org.frankrewrite.7_9_to_8_0,
                </active.recipes>
                <servlet.groupId>
                    jakarta.servlet
                </servlet.groupId>
                <servlet.artifactId>
                    jakarta.servlet-api
                </servlet.artifactId>
                <servlet.version>
                    6.1.0
                </servlet.version>
            </properties>
        </profile>
        <profile>
            <id>8_1</id>
            <properties>
                <rewrite.id>${artifactId}-8_1</rewrite.id>
                <active.recipes>
                    org.frankrewrite.8_0_to_8_1,
                </active.recipes>
                <servlet.groupId>
                    jakarta.servlet
                </servlet.groupId>
                <servlet.artifactId>
                    jakarta.servlet-api
                </servlet.artifactId>
                <servlet.version>
                    6.1.0
                </servlet.version>
            </properties>
        </profile>
        <profile>
            <id>8_2</id>
            <properties>
                <rewrite.id>${artifactId}-8_2</rewrite.id>
                <active.recipes>
                    org.frankrewrite.8_1_to_8_2,
                </active.recipes>
                <servlet.groupId>
                    jakarta.servlet
                </servlet.groupId>
                <servlet.artifactId>
                    jakarta.servlet-api
                </servlet.artifactId>
                <servlet.version>
                    6.1.0
                </servlet.version>
            </properties>
        </profile>
        <profile>
            <id>8_3</id>
            <properties>
                <rewrite.id>${artifactId}-8_3</rewrite.id>
                <active.recipes>
                    org.frankrewrite.8_2_to_8_3,
                </active.recipes>
                <servlet.groupId>
                    jakarta.servlet
                </servlet.groupId>
                <servlet.artifactId>
                    jakarta.servlet-api
                </servlet.artifactId>
                <servlet.version>
                    6.1.0
                </servlet.version>
            </properties>
        </profile>
        <profile>
            <id>9_0</id>
            <properties>
                <rewrite.id>${artifactId}-9_0</rewrite.id>
                <active.recipes>
                    org.frankrewrite.8_3_to_9_0,
                </active.recipes>
                <servlet.groupId>
                    jakarta.servlet
                </servlet.groupId>
                <servlet.artifactId>
                    jakarta.servlet-api
                </servlet.artifactId>
                <servlet.version>
                    6.1.0
                </servlet.version>
            </properties>
        </profile>
    </profiles>

    <build>
        <plugins>
            <plugin>
                <groupId>org.openrewrite.maven</groupId>
                <artifactId>rewrite-maven-plugin</artifactId>
                <version>5.36.0</version>
                <configuration>
                    <activeRecipes>
                        org.frankrewrite.recipes.RemoveInvalidChildrenRecipe,
                        org.frankrewrite.ClassNameToElementName,
						${active.recipes},
                        org.openrewrite.xml.format.AutoFormat
                    </activeRecipes>
                </configuration>
                <dependencies>
                    <!-- Recipe JAR with version from profile -->
                    <dependency>
                        <groupId>org.frankrewrite</groupId>
                        <artifactId>${rewrite.id}</artifactId>
                        <version>1.0.1-SNAPSHOT</version>
                    </dependency>
                    <!-- Dependencies needed to scan adapter-/frankframework -->
                    <dependency>
                        <groupId>javax.jms</groupId>
                        <artifactId>javax.jms-api</artifactId>
                        <version>2.0.1</version>
                    </dependency>
                    <dependency>
                        <groupId>${servlet.groupId}</groupId>
                        <artifactId>${servlet.artifactId}</artifactId>
                        <version>${servlet.version}</version>
                        <scope>runtime</scope>
                    </dependency>
                </dependencies>
            </plugin>
        </plugins>
    </build>
</project>
